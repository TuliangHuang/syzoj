<% /* Shared description + items layout
   - Inputs expected in parent scope:
   - description: HTML string for rendered description
   - items: array of item objects (optional)
   - quizMode: boolean (optional) when true wraps right/single column items in a form for quiz pages
   - formAction: string (required if wrapItemsInForm)
   - aid: attempt id (optional) passed as hidden if provided
*/ %>
<% if (description && items && items.length) { %>
<div class="ui stackable grid">
  <div class="eight wide column">
    <div class="font-content"><%- description %></div>
  </div>
  <div class="eight wide column">
    <% if (quizMode) { %>
    <form id="qq-form" class="ui form" method="post" action="<%= formAction %>">
      <input type="hidden" name="aid" value="<%= aid || '' %>">
      <div class="field">
        <% include question_items %>
      </div>
      <div id="autosave-status" class="ui tiny text" style="margin-top: 6px; color: rgba(0,0,0,.5); "></div>
    </form>
    <% } else { %>
    <div class="ui form">
      <div class="field">
        <% include question_items %>
      </div>
    </div>
    <% } %>
  </div>
  </div>
<% } else { %>
  <% if (description) { %>
  <div class="font-content"><%- description %></div>
  <% } %>
  <% if (items && items.length) { %>
    <% if (quizMode) { %>
    <form id="qq-form" class="ui form" method="post" action="<%= formAction %>">
      <input type="hidden" name="aid" value="<%= aid || '' %>">
      <div class="field">
        <% include question_items %>
      </div>
      <div id="autosave-status" class="ui tiny text" style="margin-top: 6px; color: rgba(0,0,0,.5); "></div>
    </form>
    <% } else { %>
    <div class="ui form" style="margin-top: 1rem;">
      <div class="field">
        <% include question_items %>
      </div>
    </div>
    <% } %>
  <% } %>
<% } %>
